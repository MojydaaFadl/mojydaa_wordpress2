!function(){"use strict";var t=(t,e,o)=>{const n=document.querySelectorAll(t),a=document.querySelector(e);n.forEach((t=>{t.addEventListener("click",(function(e){e.preventDefault(),a.showModal(),o(t,a)}))}))};jQuery(document).ready((function(t){t(".tips, .help_tip").each((function(){var e=t(this).attr("data-tip");e&&t(this).tipTip({content:"",fadeIn:50,fadeOut:50,delay:200,enter:function(){t(tiptip_content).text(e)}})}));const e=t(".job-manager-settings-submit");var o,n,a;t(".job-manager-options").on("change keyup",(()=>e.removeClass("is-outline"))),e.length&&(window.scrollTo(0,0),setTimeout((()=>window.scrollTo(0,0)),0)),t(".job-manager-settings-wrap").each((function(){t("#wpbody-content > .notice").hide()})),t("p.form-field-author").on("click","a.change-author",(function(){t(this).closest("p").find(".current-author").hide();var e=t(this).closest("p").find(".change-author");return e.show(),e.find(":input.wpjm-user-search").trigger("init.user_search"),!1})),t("#wpbody").on("init.user_search",":input.wpjm-user-search",(function(){var e={allowClear:!!t(this).data("allow_clear"),placeholder:t(this).data("placeholder"),minimumInputLength:t(this).data("minimum_input_length")?t(this).data("minimum_input_length"):"1",errorLoading:job_manager_admin_params.user_selection_strings.searching,inputTooShort:function(t){var e=t.minimum-t.input.length;return 1===e?job_manager_admin_params.user_selection_strings.input_too_short_1:job_manager_admin_params.user_selection_strings.input_too_short_n.replace("%qty%",e)},loadingMore:function(){return job_manager_admin_params.user_selection_strings.load_more},noResults:function(){return job_manager_admin_params.user_selection_strings.no_matches},searching:function(){return job_manager_admin_params.user_selection_strings.searching},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},width:"100%",ajax:{url:job_manager_admin_params.ajax_url,dataType:"json",delay:1e3,data:function(t){return{term:t.term,action:"job_manager_search_users",security:job_manager_admin_params.search_users_nonce,page:t.page}},processResults:function(e){var o=[];return e&&e.results&&t.each(e.results,(function(t,e){o.push({id:t,text:e})})),{results:o,pagination:{more:e.more}}},cache:!0}};t(this).select2(e)})),t(":input.wpjm-user-search:visible").trigger("init.user_search"),t(document.body).on("click",".wp_job_manager_add_another_file_button",(function(e){e.preventDefault();var o=t(this).data("field_name"),n=t(this).data("field_placeholder"),a=t(this).data("uploader_button_text"),r=t(this).data("uploader_button"),i=t(this).data("view_button");t(this).before('<span class="file_url"><input type="text" name="'+o+'[]" placeholder="'+n+'" /><button class="button button-small wp_job_manager_upload_file_button" data-uploader_button_text="'+a+'">'+r+'</button><button class="button button-small wp_job_manager_view_file_button">'+i+"</button></span>")})),t(document.body).on("click",".wp_job_manager_view_file_button",(function(e){if(e.preventDefault(),!(o=t(this).data("download-url"))){a=t(this).closest(".file_url");var o=(n=a.find("input")).val()}o.indexOf("://")>-1?window.open(o,"_blank"):(n.addClass("file_no_url"),setTimeout((function(){n.removeClass("file_no_url")}),1e3))})),t(document.body).on("click",".wp_job_manager_upload_file_button",(function(e){e.preventDefault(),a=t(this).closest(".file_url"),n=a.find("input"),o||(o=wp.media.frames.file_frame=wp.media({title:t(this).data("uploader_title"),button:{text:t(this).data("uploader_button_text")},multiple:!1})).on("select",(function(){var e=o.state().get("selection").first().toJSON();t(n).val(e.url)})),o.open()}))})),jQuery(document).ready((function(t){var e="job_listing_type";t("#"+e+"checklist li :radio, #"+e+"checklist-pop :radio").on("click",(function(){var o=t(this),n=o.is(":checked"),a=o.val();t("#"+e+"checklist li :radio, #"+e+"checklist-pop :radio").prop("checked",!1),t("#in-"+e+"-"+a+", #in-popular-"+e+"-"+a).prop("checked",n)}))})),job_manager_admin_params.promoted_jobs_enabled&&(t(".promote_job","#promote-dialog",((t,e)=>{((t,e)=>{t.innerHTML=`\n\t<form class="dialog" method="dialog">\n\t\t<button class="dialog-close" type="submit">X</button>\n\t</form>\n\t<promote-job-template>\n\t\t<div slot="buttons" class="promote-buttons-group">\n\t\t\t<a id="wpjm-promote-button" class="promote-button button button-primary" target="_blank" rel="noopener noreferrer" href="${e}">${job_manager_admin_params.job_listing_promote_strings.promote_job}</a>\n\t\t\t<a class="promote-button button button-secondary" target="_blank" rel="noopener noreferrer" href="https://wpjobmanager.com/jobtarget?utm_source=plugin_wpjm&utm_medium=promote-dialog&utm_campaign=promoted-jobs">${job_manager_admin_params.job_listing_promote_strings.learn_more}</a>\n\t\t\t<a class="promote-dismiss wpjm-notice-dismiss" href="#">${job_manager_admin_params.job_listing_promote_strings.dismiss}</a>\n\t\t</div>\n\t<promote-job-template>`,t.querySelector("#wpjm-promote-button").addEventListener("click",(function(){t.close()}))})(e,t.getAttribute("data-href"))})),t(".jm-promoted__deactivate","#deactivate-dialog",((t,e)=>{((t,e)=>{t.querySelector(".deactivate-promotion").setAttribute("href",e)})(e,t.getAttribute("data-href"))})),customElements.define("promote-job-template",class extends HTMLElement{constructor(){super();const t=document.getElementById("promote-job-template").content;this.attachShadow({mode:"open"}).appendChild(t.cloneNode(!0))}}))}();